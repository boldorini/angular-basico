<h2>Course Info</h2>
<hr/>
<!--
    Temos aqui variáveis de template tais como
    #courseForm e @courseName que permite utilizar 
    recursos Angular

    Necessário colocar o ngIf para deixar o course opcional
    e parar de dar erro de object is possible undefined
    URL solução
    https://stackoverflow.com/questions/51721221/how-to-assign-ngmodel-with-an-empty-null-undefined-object-angular-4
-->
<form #courseForm="ngForm" *ngIf="course">

    <div class="form-group">
        <label class="col-sm-2 col-from-label">Name:</label>
        <div class="col-sm-10">
            <input [(ngModel)]='course.name' required name="name" #courseName="ngModel"
                 [ngClass]="{'is-invalid': courseName.invalid}" class="form-control">
            <!--
                [ngClass] muda dinamicamente uma classe de um componente baseado em uma condição
                o primeiro parâmetro que ela recebe é a classe que será aplicada e o segundo é 
                a condição para essa classe ser aplicada
                [ngClass]="{'is-invalid': courseName.invalid}" 
                classe 'is-invalid' se courseName for inválido
                {{ courseName.value }}
                {{ courseName.valid }}
                {{ courseName.invalid }}
                propriedades das variáveis de template
            -->
            <div class="invalid-feedback">
                <span>Course name is required!</span>
            </div>            
        </div>
    </div>

    <div class="form-group">
        <label class="col-sm-2 col-from-label">Price:</label>
        <div class="col-sm-10">
            <input [(ngModel)]='course.price' required name="price" type="number" #coursePrice="ngModel"
                 [ngClass]="{'is-invalid': coursePrice.invalid}" class="form-control">
            <div class="invalid-feedback">
                <span>Course price is required!</span>
            </div>            
        </div>
    </div>

    <div class="form-group">
        <label class="col-sm-2 col-from-label">Rating:</label>
        <div class="col-sm-10">
            <input [(ngModel)]='course.rating' required name="rating" type="number" #courseRating="ngModel"
                 [ngClass]="{'is-invalid': courseRating.invalid}" class="form-control">
            <div class="invalid-feedback">
                <span>Course rating is required!</span>
            </div>            
        </div>
    </div>

    <div class="form-group">
        <label class="col-sm-2 col-from-label">Description:</label>
        <div class="col-sm-10">
            <textarea [(ngModel)]='course.description' required name="description" #courseDescription="ngModel"
                 [ngClass]="{'is-invalid': courseDescription.invalid}" class="form-control">
            </textarea>
            <div class="invalid-feedback">
                <span>Course description is required!</span>
            </div>            
        </div>
    </div>
    <!--
        Para integração entre o html e as variáveis de template, a tag deve estar entre colchetes,
        caso contrário não funciona.
        (click)="save" - criação do método save, para criação de métodos nas ações de um html, utiliza-se
        os parênteses e chama-se a função. Podemos utilizar qualquer evento DOM para manipular com o Angular.
        Documentação: To bind to a DOM event, surround the DOM event name in
        parentheses and assign a quoted template statement to it.
        https://angular.io/guide/user-input
    -->
    <button [disabled]="courseForm.invalid" (click)="save()" class="btn btn-primary mr-2">Save</button>
    <button [routerLink]="['/courses']" class="btn btn-secondary">Back</button>
</form>